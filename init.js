(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}new(function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,n),this.options=t,this._months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],this._weeks=["日","月","火","水","木","金","土"],this._elem=document.getElementById("calendar"),this._prev=document.getElementById("calendarPrev"),this._next=document.getElementById("calendarNext"),this._prevText=document.getElementById("calendarPrevText"),this._currentText=document.getElementById("calendarCurrentText"),this._nextText=document.getElementById("calendarNextText"),this._head=document.getElementById("calendarHead"),this._body=document.getElementById("calendarBody");var a=new Date;this.year=this._elem.dataset.year-0||a.getFullYear(),this.month=this._elem.dataset.month-0||a.getMonth(),this.makeCalendar(this.year,this.month),this._handleEvents()}var a,r;return a=n,(r=[{key:"_handleEvents",value:function(){var e=this;this._prev.addEventListener("click",(function(t){t.preventDefault(),e.month--,e.month<0&&(e.year--,e.month=e._months.length-1),e.makeCalendar(e.year,e.month)})),this._next.addEventListener("click",(function(t){t.preventDefault(),e.month++,e.month>e._months.length-1&&(e.year++,e.month=0),e.makeCalendar(e.year,e.month)}))}},{key:"makeCalendar",value:function(e,t){this._changeLabels(e,t),this._makeCalendarHead(),this._makeCalendarBody(e,t)}},{key:"_changeLabels",value:function(e,t){this._prevText.textContent=this._months[(t+this._months.length-1)%this._months.length],this._currentText.textContent="".concat(e,"年 ").concat(this._months[t]),this._nextText.textContent=this._months[(t+this._months.length+1)%this._months.length]}},{key:"_makeCalendarHead",value:function(){this._head.innerHTML="";for(var e=document.createElement("tr"),t=0;t<7;t++){var n=document.createElement("th");n.textContent=this._weeks[t],e.appendChild(n)}this._head.appendChild(e)}},{key:"_makeCalendarBody",value:function(e,t){var n=new Date(e,t).getDay(),a=new Date(e,t+1,0).getDate(),r=1;this._body.innerHTML="";for(var h=0;h<6;h++){for(var i=document.createElement("tr"),o=0;o<7;o++){var s=document.createElement("td");if(o<n&&0===h||r>a)s.innerHTML="&nbsp;";else{s.innerHTML="<span>".concat(r,"</span>");var d=this._parseDate(e,t,r);s.dataset.date=d;var l=o;s.dataset.week=l,r++}i.appendChild(s)}this._body.appendChild(i)}}},{key:"_parseDate",value:function(e,t,n){return"".concat(e,"-").concat(("00"+(t+1)).slice(-2),"-").concat(("00"+n).slice(-2))}}])&&t(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),n}())})();